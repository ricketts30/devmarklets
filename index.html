<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>devmarklets</title>
        <link rel="stylesheet" href="devmarklets.css">
        <script type="text/javascript" src="bm_000_list.js">/* just an import */</script>
    </head>
    <body>
        <h1>Devmarklets</h1>
        <p>Drag (but <u>not</u> click) the link to your bookmark toolbar and then click it when you have your website open.</p>
        <div class="stable">
            <h2>stable</h2>
            <ul id="id_ul_stable">
            </ul>
        </div>
        <script type="text/javascript">
            let site_url = document.location.href;
            //console.log(site_url);
            if(site_url)
            {
                if(site_url.endsWith("index.html")){
                    site_url = site_url.slice(0, -10);
                }
            }else{
                site_url = '/';
            }
            //console.log(site_url);
            let fragment = 
            bm_list.items.forEach(element => {
                let href=`javascript:var%20bmVersion='${element.code}.001';var%20s%20=%20document.createElement('script');s.type='text/javascript';document.body.appendChild(s);s.src='${site_url}${element.script}';void(0);`;
                let ul = document.getElementById("id_ul_stable");
                //console.log(` link:${element.script} text:${element.title} about:${element.about} `);
                let list_item = document.createElement("li");
                let link = document.createElement("a");
                link.appendChild(document.createTextNode(`${element.title}`));
                link.setAttribute("href",href);
                let span = document.createElement("span");
                span.appendChild(document.createTextNode(`${element.about}`));
                list_item.appendChild(link);
                list_item.appendChild((document.createTextNode(" ")));
                list_item.appendChild(span);
                ul.appendChild(list_item);
                });
        </script>
    </body>
</html>
